import{r,j as t}from"./vendor-DUuTY2Hv.js";import{c as m}from"./index-Brra2Pf9.js";const j=()=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),t.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]});function v(d){return d.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/#{1,3}\s*/g,"").replace(/^\s*[-*]\s/gm,"‚Ä¢ ").replace(/`([^`]+)`/g,"$1").trim()}const k=["Spremeni dan 3 na Vis","Dodaj ≈°e en dan","Alternativa za slabo vreme dan 2","Poceni mo≈ænost za marine","Kje kupiti ≈æivila za plovbo?"];function w({itinerary:d,language:x="en"}){const[g,l]=r.useState([{role:"assistant",text:x==="sl"?'≈Ωivjo! Sem Jadran AI. Imam vse podrobnosti o va≈°i poti ‚Äî vpra≈°ajte me kar koli! Npr. "Spremeni dan 3", "Dodaj sidri≈°ƒçe", "Kaj v primeru slabega vremena?"':`Hi! I'm Jadran AI. I have all the details of your trip ‚Äî ask me anything! E.g. "Change day 3", "Add an anchorage", "What if weather is bad on day 2?"`}]),[s,u]=r.useState(""),[n,f]=r.useState(!1),[i,y]=r.useState(!1),b=r.useRef(null),h=r.useRef(null);r.useEffect(()=>{var e;(e=b.current)==null||e.scrollIntoView({behavior:"smooth"})},[g]);const p=async e=>{const a=e||s.trim();if(!(!a||n)){u(""),l(o=>[...o,{role:"user",text:a}]),f(!0);try{const o=await m(a,d,x);l(c=>[...c,{role:"assistant",text:o}])}catch{l(c=>[...c,{role:"assistant",text:"‚ö†Ô∏è Napaka pri povezavi. Poskusite znova."}])}f(!1)}};return t.jsxs("div",{style:{marginBottom:20},children:[t.jsxs("button",{onClick:()=>{y(!i),setTimeout(()=>{var e;return(e=h.current)==null?void 0:e.focus()},100)},style:{width:"100%",padding:"14px 20px",background:i?"linear-gradient(135deg, rgba(59,158,206,0.2), rgba(30,80,120,0.3))":"linear-gradient(135deg, rgba(15,40,60,0.7), rgba(10,30,50,0.9))",border:"1px solid rgba(59,158,206,0.25)",borderRadius:i?"16px 16px 0 0":16,color:"#c8dce8",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"Outfit, sans-serif",fontSize:14,fontWeight:600,transition:"all 0.2s"},children:[t.jsx("span",{children:"ü§ñ AI Pomoƒçnik ‚Äî Spremenite ali prilagodite pot"}),t.jsx("span",{style:{color:"#3b9ece",fontSize:18},children:i?"‚ñ≤":"‚ñº"})]}),i&&t.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(10,25,45,0.98), rgba(8,20,38,0.99))",border:"1px solid rgba(59,158,206,0.2)",borderTop:"none",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:[t.jsxs("div",{style:{maxHeight:320,overflowY:"auto",padding:16,display:"flex",flexDirection:"column",gap:10},children:[g.map((e,a)=>t.jsx("div",{style:{display:"flex",justifyContent:e.role==="user"?"flex-end":"flex-start"},children:t.jsx("div",{style:{maxWidth:"80%",padding:"10px 14px",borderRadius:e.role==="user"?"14px 14px 4px 14px":"14px 14px 14px 4px",background:e.role==="user"?"linear-gradient(135deg, #1a7fb5, #3b9ece)":"rgba(59,158,206,0.08)",border:e.role==="assistant"?"1px solid rgba(59,158,206,0.15)":"none",color:e.role==="user"?"#fff":"#c8dce8",fontSize:14,lineHeight:1.5,whiteSpace:"pre-wrap"},children:e.role==="assistant"?v(e.text):e.text})},a)),n&&t.jsx("div",{style:{display:"flex",gap:4,padding:"8px 14px"},children:[0,1,2].map(e=>t.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"#3b9ece",animation:"pulse 1.2s ease-in-out infinite",animationDelay:`${e*.2}s`}},e))}),t.jsx("div",{ref:b})]}),t.jsx("div",{style:{padding:"0 16px 10px",display:"flex",gap:6,flexWrap:"wrap"},children:k.map((e,a)=>t.jsx("button",{onClick:()=>p(e),style:{background:"rgba(59,158,206,0.08)",border:"1px solid rgba(59,158,206,0.15)",borderRadius:20,padding:"4px 12px",fontSize:12,color:"#5a9ec0",cursor:"pointer",fontFamily:"Outfit, sans-serif"},children:e},a))}),t.jsxs("div",{style:{display:"flex",gap:8,padding:"10px 16px 16px",borderTop:"1px solid rgba(59,158,206,0.08)"},children:[t.jsx("input",{ref:h,value:s,onChange:e=>u(e.target.value),onKeyDown:e=>e.key==="Enter"&&p(),placeholder:"Vpra≈°ajte AI o va≈°i poti...",style:{flex:1,background:"rgba(20,40,65,0.8)",border:"1px solid rgba(59,158,206,0.2)",borderRadius:10,padding:"10px 14px",color:"#c8dce8",fontFamily:"Outfit, sans-serif",fontSize:14,outline:"none"}}),t.jsxs("button",{onClick:()=>p(),disabled:n||!s.trim(),style:{background:"linear-gradient(135deg, #1a7fb5, #3b9ece)",border:"none",borderRadius:10,padding:"10px 16px",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:6,fontFamily:"Outfit, sans-serif",fontSize:13,fontWeight:600,opacity:n||!s.trim()?.5:1},children:[t.jsx(j,{})," Po≈°lji"]})]})]})]})}export{w as default};
